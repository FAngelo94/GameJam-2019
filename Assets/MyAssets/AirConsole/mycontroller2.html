<html>

<head>
    <script type="text/javascript" src="https://www.airconsole.com/api/airconsole-1.7.0.js"></script>
    <script type="text/javascript">
        var airconsole;
        /**
         * Sets up the communication to the screen.
         */
        function init() {
            airconsole = new AirConsole({ orientation: "landscape" });

            airconsole.onActivePlayersChange = function (player_number) {
                updateText(player_number);
            };
            airconsole.onReady = function () {
                updateText();
            };
        }
        function updateText(player_number) {
            var message = "";
            if (player_number == 0) {
                message = "You are the player 0";
            } else if (player_number == 1) {
                message = "You are the player 1";
            } else if (player_number == 2) {
                message = "You are the player 2";
            } else if (player_number == 3) {
                message = "You are the player 3";
            } else if (player_number == 4) {
                message = "You are the player 4";
            } else if (player_number == 5) {
                message = "You are the player 5";
            } else if (player_number == 6) {
                message = "You are the player 6";
            }
            //alert(message);
        }
        function diagonal(direction, amount) {
            if (amount === 0) {
                up(0);
                down(0);
                left(0);
                right(0);
				document.getElementById("up-left").src="http://www.cyberpills.net/Falci/MammaMia/AltoSx%20Verde.png";
				document.getElementById("up-right").src="http://www.cyberpills.net/Falci/MammaMia/AltoDx%20Verde.png";
				document.getElementById("down-left").src="http://www.cyberpills.net/Falci/MammaMia/BassoSx%20Verde.png";
				document.getElementById("down-right").src="http://www.cyberpills.net/Falci/MammaMia/BasspDx%20Verde.png";
            } else {
                if (direction === "up-left") {
                    document.getElementById("up-left").src="http://www.cyberpills.net/Falci/MammaMia/AltoSx%20Rosso.png";
                    up(1);
                    left(1);
                }
                if (direction === "up-right") {
                    document.getElementById("up-right").src="http://www.cyberpills.net/Falci/MammaMia/AltoDx%20Rosso.png";
                    up(1);
                    right(1);
                }
                if (direction === "down-left") {
                    document.getElementById("down-left").src="http://www.cyberpills.net/Falci/MammaMia/BassoSx%20Rosso.png";
                    down(1);
                    left(1);
                }
                if (direction === "down-right") {
                    document.getElementById("down-right").src="http://www.cyberpills.net/Falci/MammaMia/BassoDx%20Rosso.png";
                    down(1);
                    right(1);
                }
            }
        }

        function up(amount) {
            var element = document.getElementById("up");
            if (amount === 1) {
                airconsole.message(AirConsole.SCREEN, { key: "up", pressed: true });
                element.src="http://www.cyberpills.net/Falci/MammaMia/CentraleAlto%20Rosso.png";
            }
            else {
                airconsole.message(AirConsole.SCREEN, { key: "up", pressed: false });
                element.src="http://www.cyberpills.net/Falci/MammaMia/CentraleAlto%20Verde.png";
            }
        }
        function down(amount) {
            var element = document.getElementById("down");
            if (amount === 1) {
                airconsole.message(AirConsole.SCREEN, { key: "down", pressed: true });
                element.src="http://www.cyberpills.net/Falci/MammaMia/CentraleBasso%20Rosso.png";
            }
            else {
                airconsole.message(AirConsole.SCREEN, {
                    key: "down",
                    pressed: false
                });
                element.src="http://www.cyberpills.net/Falci/MammaMia/CentraleBasso%20Verde.png";
            }
        }
        function right(amount) {
            var element = document.getElementById("right");
            if (amount === 1) {
                airconsole.message(AirConsole.SCREEN, {
                    key: "right",
                    pressed: true
                });
                element.src="http://www.cyberpills.net/Falci/MammaMia/CentraleDx%20Rosso.png";
            }
            else {
                airconsole.message(AirConsole.SCREEN, {
                    key: "right",
                    pressed: false
                });
                element.src="http://www.cyberpills.net/Falci/MammaMia/CentraleDx%20Verde.png";
            }
        }
        function left(amount) {
            var element = document.getElementById("left");
            if (amount === 1) {
                airconsole.message(AirConsole.SCREEN, { key: "left", pressed: true });
                element.src="http://www.cyberpills.net/Falci/MammaMia/CentraleSx%20Rosso.png";
            }
            else {
                airconsole.message(AirConsole.SCREEN, {
                    key: "left",
                    pressed: false
                });
                element.src="http://www.cyberpills.net/Falci/MammaMia/CentraleSx%20Verde.png";
            }
        }
        function confirm(amount) {
            var element = document.getElementById("confirm");
			if(amount==1)
				element.src="http://www.cyberpills.net/Falci/MammaMia/Centrale%20Rosso.png";
            if (amount === 0) {
                airconsole.message(AirConsole.SCREEN, {
                    key: "confirm",
                    pressed: true
                });
				element.src="http://www.cyberpills.net/Falci/MammaMia/Centrale%20Verde.png";
            }
        }
    </script>
    <style type="text/css">
        @font-face {
            font-family: "Arial";
        }

        html,
        body {
            height: 100%;
            width: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .joypad {
            display: flex;
            justify-content: space-around;
            align-items: center;
            width: 100%;
            height: 100%;
        }

        .joypad-col {
            flex-direction: column;
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex: 25%;
            height: 100%;
        }

        .joypad-col.center {
            flex: 50%;
        }

        .button {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 33.4%;
            width: 100%;
            border: red solid 1px;
			background-color: white;
        }

        .is-hidden {
            visibility: hidden;
        }

        .arrow {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body onload="init()">
    <div class="joypad">
        <div class="joypad-col">
            <div class="button" ontouchstart="diagonal('up-left',1)" ontouchend="diagonal('up-left',0)">
                <img id="up-left" class="arrow" src="http://www.cyberpills.net/Falci/MammaMia/AltoSx%20Verde.png"/>
            </div>
            <div class="button" ontouchstart="left(1)" ontouchend="left(0)">
                <img id="left" class="arrow" src="http://www.cyberpills.net/Falci/MammaMia/CentraleSx%20Verde.png"/>
            </div>
            <div class="button" ontouchstart="diagonal('down-left',1)"
                ontouchend="diagonal('down-left',0)">
                <img id="down-left" class="arrow" src="http://www.cyberpills.net/Falci/MammaMia/BassoSx%20Verde.png"/>
            </div>
        </div>
        <div class="joypad-col center">
            <div class="button up" ontouchstart="up(1)" ontouchend="up(0)">
                <img id="up" class="arrow" src="http://www.cyberpills.net/Falci/MammaMia/CentraleAlto%20Verde.png"/>
            </div>
            <div class="button" ontouchstart="confirm(1)" ontouchend="confirm(0)">
                <img id="confirm" class="arrow" src="http://www.cyberpills.net/Falci/MammaMia/Centrale%20Verde.png"/>
            </div>
            <div class="button" ontouchstart="down(1)" ontouchend="down(0)">
                <img id="down" class="arrow" src="http://www.cyberpills.net/Falci/MammaMia/CentraleBasso%20Verde.png"/>
            </div>
        </div>
        <div class="joypad-col">
            <div class="button" ontouchstart="diagonal('up-right',1)" ontouchend="diagonal('up-right',0)">
                <img id="up-right" class="arrow" src="http://www.cyberpills.net/Falci/MammaMia/AltoDx%20Verde.png"/>
            </div>
            <div class="button" ontouchstart="right(1)" ontouchend="right(0)">
                <img id="right" class="arrow" src="http://www.cyberpills.net/Falci/MammaMia/CentraleDx%20Verde.png"/>
            </div>
            <div class="button" ontouchstart="diagonal('down-right',1)"
                ontouchend="diagonal('down-right',0)">
                <img id="down-right" class="arrow" src="http://www.cyberpills.net/Falci/MammaMia/BassoDx%20Verde.png"/>
            </div>
        </div>
    </div>
</body>

</html>